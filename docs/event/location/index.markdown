
# location (GPS)

> --------------------- ------------------------------------------------------------------------------------------
> __Type__              [Event][api.type.Event]
> __Revision__          [REVISION_LABEL](REVISION_URL)
> __Keywords__          location, GPS
> --------------------- ------------------------------------------------------------------------------------------

## Overview

These are location events generated by the GPS hardware. They are only sent to the global [Runtime][api.type.Runtime] object when the app requests them with a statement like <nobr>`Runtime:addEventListener( "location", locationHandler )`</nobr>.

See the individual property documentation pages below for examples.


## Gotchas

### General

In the location event listener, [event.errorCode][api.event.location.errorCode] should be checked in case of a location error.

### Android

To enable GPS on Android devices, you must add the following permission(s) to the `build.settings` file:

``````{ brush="lua" gutter="false" first-line="1" highlight="[8,10]" }
settings =
{
	android =
	{
		usesPermissions =
		{
			-- Permission to retrieve current location from the GPS
			"android.permission.ACCESS_FINE_LOCATION",
			-- Permission to retrieve current location from WiFi or cellular service
			"android.permission.ACCESS_COARSE_LOCATION",
		},
	},
}
``````

### iOS

On iOS, [event.errorCode][api.event.location.errorCode] will be <nobr>non-`nil`</nobr> if the user disabled location services for the app.

### macOS

You must adjust your app's entitlements to use location events for macOS apps. See [here][guide.distribution.macOSBuild] for details.

### Windows

Location services are not currently supported on Windows. While the Corona&nbsp;Simulator for Windows will synthesize a fake location event for testing purposes, Windows desktop apps will __not__ do this. As a consequence, <nobr>`system.hasEventSource( "location" )`</nobr> will return `true` in the Corona&nbsp;Simulator for Windows but `false` in Windows desktop apps.


## Properties

#### [event.accuracy][api.event.location.accuracy]

#### [event.altitude][api.event.location.altitude]

#### [event.direction][api.event.location.direction]

#### [event.errorCode][api.event.location.errorCode]

#### [event.errorMessage][api.event.location.errorMessage]

#### [event.latitude][api.event.location.latitude]

#### [event.longitude][api.event.location.longitude]

#### [event.name][api.event.location.name]

#### [event.speed][api.event.location.speed]

#### [event.time][api.event.location.time]
